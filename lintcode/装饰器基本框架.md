基本装饰器写法
简单装饰器


```python
def logger(fn):
    def _warp(*args,**kwargs):
        print('1')
        ret = fn(*args,**kwargs)
        print('2')
        return ret
    return _warp
```


```python
@logger
def add(x,y):
    return x+y

add(2,3)
```

    1
    2





    5



无参装饰器（判断函数执行的时长）


```python
import datetime

def select_low(fn):
    def _warp(*args,**kwargs):
        start = datetime.datetime.now()
        ret = fn(*args,**kwargs)
        dar = (datetime.datetime.now() - start).total_seconds()
        print('this function name is {},running {}s'.format(fn.__name__,dar))
      
        return ret
    return _warp
```


```python
import time
@select_low
def add(x,y):
    time.sleep(3)
    return x+y

add(2,3)
```

    this function name is add,running 3.003113s





    5



带参装饰器


```python
import datetime
import functools

def select_low(time):
    def _time(fn):
        @functools.wraps(fn)
        def _warp(*args,**kwargs):
            '''The function tests the speed of the wrapped function'''
            start = datetime.datetime.now()
            ret = fn(*args,**kwargs)
            dar = (datetime.datetime.now() - start).total_seconds()
            if dar >= time:
                print('this function name is {},running {}s,It is lower'.format(fn.__name__,dar))
            
            return ret
        return _warp
    return _time


```


```python
import time
@select_low(3)
def add(x,y):
    '''It's a function of addition'''
    time.sleep(2)
    return x+y

add(2,3)
```




    5




```python
print(add.__doc__)
```

    It's a function of addition

